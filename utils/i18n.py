"""
i18n ‚Äî –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: —Ç–µ–∫—Å—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –∏–∑ –∫–æ–¥–∞ –≤ —Å–ª–æ–≤–∞—Ä—å
–†–∞—Å—à–∏—Ä—è–µ–º–æ: –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑ .po/.ftl –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
"""

from typing import Any

_DEFAULT_LANG = "ru"

# –°–ª–æ–≤–∞—Ä—å –∫–ª—é—á -> —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç (–æ—Ç–¥–µ–ª—è–µ—Ç –ª–æ–≥–∏–∫—É –æ—Ç —Ç–µ–∫—Å—Ç–æ–≤)
_FALLBACKS: dict[str, str] = {
    "greeting": "üåü –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {name}! –†–∞–¥ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è!",
    "error_generic": "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞",
    "error_image": "‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
    "rate_limit": "‚è≥ –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–¥–æ–∂–¥–∏—Ç–µ.",
    "thinking": "‚è≥ –î—É–º–∞—é...",
    "image_taken": "‚úÖ –í–∑—è–ª –≤ —Ä–∞–±–æ—Ç—É! –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ, –∫–æ–≥–¥–∞ –≥–æ—Ç–æ–≤–æ.",
    "image_taken_queue": "‚úÖ –ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞! –í–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏: {position}. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏–¥—ë—Ç, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ.",
    "image_ready": "‚ú® –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!",
    "history_cleared": "‚úÖ –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞!",
    "favorite_added": "‚≠ê –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!",
    "btn_favorite": "‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",
    "btn_regenerate": "üîÑ –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å",
    "btn_rephrase": "üîÑ –ü–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä–æ–≤–∞—Ç—å",
    "menu_main": "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
    "menu_back": "‚¨ÖÔ∏è –ù–∞–∑–∞–¥",
}


def t(key: str, lang: str = _DEFAULT_LANG, **kwargs: Any) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –ø–æ –∫–ª—é—á—É."""
    s = _FALLBACKS.get(key, key)
    return s.format(**kwargs) if kwargs else s
